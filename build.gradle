group 'RLBot'
version '0.0.1'

apply plugin: 'java'
apply plugin: 'application'

sourceCompatibility = 1.8

repositories {
    jcenter()
    maven { url 'https://jitpack.io' }
}

mainClassName = 'rlbot.JavaExample'

dependencies {
    compile 'com.github.tarehart:RLBot:gradle-build-SNAPSHOT'
    compile 'com.github.tarehart:RLBot:gradle-build-SNAPSHOT:python@zip'  // Fetch the python zip
    runtime files('build/framework/RLBotFramework/dll') // This picks up the dll since it's in this directory. Doesn't work if you specify the dll by name.
}

def findFile(suffix) {
    configurations.compile.filter { it.name.endsWith(suffix) }
}

task assemblePython(type: Copy) {
    from zipTree(findFile('python.zip').singleFile)
    into 'build/framework'
}

processResources.dependsOn assemblePython

